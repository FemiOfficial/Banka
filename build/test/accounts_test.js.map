{"version":3,"sources":["../../server/test/accounts_test.js"],"names":["chai","use","chaiHttp","token","describe","AccountData","login","email","password","loginStaff","accountPatch","status","accountPatch400","accountPatch400_2","accountPatch400_3","account","type","balance","account_2","account400","accountTrimInput400","accountTrimInput400_2","it","done","request","app","post","send","end","err","res","body","to","be","an","have","property","data","set","patch"],"mappings":"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","sourcesContent":["/* eslint-disable prefer-destructuring */\r\nimport chai, { expect } from 'chai';\r\nimport chaiHttp from 'chai-http';\r\nimport app from '../index';\r\n\r\nchai.use(chaiHttp);\r\n\r\nlet token = '';\r\n\r\ndescribe('test for create account endpoint', () => {\r\n  const AccountData = {\r\n    login: {\r\n      email: 'jamesdoe@gmail.com',\r\n      password: '12345',\r\n    },\r\n    loginStaff: {\r\n      email: 'donaldtrump@gmail.com',\r\n      password: '12345',\r\n    },\r\n    accountPatch: {\r\n      status: 'active',\r\n    },\r\n    accountPatch400: {\r\n      status: 'act',\r\n    },\r\n    accountPatch400_2: {\r\n      status: '  ',\r\n    },\r\n    accountPatch400_3: {\r\n    },\r\n    account: {\r\n      type: 'Savings',\r\n      balance: '120000.00',\r\n      email: 'jamesdoe@gmail.com',\r\n    },\r\n    account_2: {\r\n      type: 'Current',\r\n      balance: '120000.00',\r\n      email: 'jamesdoe@gmail.com',\r\n    },\r\n    account400: {\r\n      type: 'Savings',\r\n      balance: '120000.00',\r\n    },\r\n    accountTrimInput400: {\r\n      type: '     ',\r\n      balance: 'gdgdgd',\r\n      email: 'jamesdoe@gmail.com',\r\n    },\r\n    accountTrimInput400_2: {\r\n      type: '     ',\r\n      balance: 'gdgdgd     ',\r\n      email: 'jamesdoe@gmail.com',\r\n    },\r\n  };\r\n\r\n  describe('POST /auth/signin Success', () => {\r\n    it('should log a user in successfully', (done) => {\r\n      chai.request(app)\r\n        .post('/api/v1/auth/signin')\r\n        .send(AccountData.login)\r\n        .end((err, res) => {\r\n          expect(res.body).to.be.an('object');\r\n          expect(res.body).to.have.property('data');\r\n          expect(res).to.have.status(200);\r\n          token = res.body.data.token;\r\n          done();\r\n        });\r\n    });\r\n  });\r\n\r\n\r\n  describe('POST /accounts Success', () => {\r\n    it('should create a bank account for a user', (done) => {\r\n      chai.request(app)\r\n        .post('/api/v1/accounts')\r\n        .send(AccountData.account)\r\n        .set('Authorization', token)\r\n        .end((err, res) => {\r\n          expect(res.body).to.be.an('object');\r\n          expect(res.body).to.have.property('data');\r\n          expect(res).to.have.status(201);\r\n          done();\r\n        });\r\n    });\r\n  });\r\n\r\n  describe('POST /accounts Email conflict', () => {\r\n    it('should not create two bank account for a user', (done) => {\r\n      chai.request(app)\r\n        .post('/api/v1/accounts')\r\n        .send(AccountData.account_2)\r\n        .set('Authorization', token)\r\n        .end((err, res) => {\r\n          expect(res.body).to.be.an('object');\r\n          expect(res.body).to.have.property('errors');\r\n          expect(res).to.have.status(409);\r\n          done();\r\n        });\r\n    });\r\n\r\n  });\r\n\r\n  describe('POST /accounts Bad Request Incomplete Payload', () => {\r\n    it('should not create a bank account', (done) => {\r\n      chai.request(app)\r\n        .post('/api/v1/accounts')\r\n        .send(AccountData.account400)\r\n        .set('Authorization', token)\r\n        .end((err, res) => {\r\n          expect(res.body).to.be.an('object');\r\n          expect(res.body).to.have.property('errors');\r\n          expect(res).to.have.status(400);\r\n          done();\r\n        });\r\n    });\r\n  });\r\n\r\n  describe('POST /accounts Bad Request wrong input', () => {\r\n    it('should not create a bank account user', (done) => {\r\n      chai.request(app)\r\n        .post('/api/v1/accounts')\r\n        .send(AccountData.accountTrimInput400)\r\n        .set('Authorization', token)\r\n        .end((err, res) => {\r\n          expect(res.body).to.be.an('object');\r\n          expect(res.body).to.have.property('errors');\r\n          expect(res).to.have.status(400);\r\n          done();\r\n        });\r\n    });\r\n  });\r\n\r\n  describe('POST /accounts Bad Request wrong input but complete payload', () => {\r\n    it('should not create a bank account', (done) => {\r\n      chai.request(app)\r\n        .post('/api/v1/accounts')\r\n        .send(AccountData.accountTrimInput400_2)\r\n        .set('Authorization', token)\r\n        .end((err, res) => {\r\n          expect(res.body).to.be.an('object');\r\n          expect(res.body).to.have.property('errors');\r\n          expect(res).to.have.status(400);\r\n          done();\r\n        });\r\n    });\r\n  });\r\n\r\n  describe('POST /auth/signin staff sign in', () => {\r\n    it('should log a staff in', (done) => {\r\n      chai.request(app)\r\n        .post('/api/v1/auth/signin')\r\n        .send(AccountData.loginStaff)\r\n        .end((err, res) => {\r\n          expect(res.body).to.be.an('object');\r\n          expect(res.body).to.have.property('data');\r\n          expect(res).to.have.status(200);\r\n          token = res.body.data.token;\r\n          done();\r\n        });\r\n    });\r\n  });\r\n\r\n  describe('PATCH /accounts/<account-number> Bad Request wrong input but complete payload', () => {\r\n    it('should not create a bank account', (done) => {\r\n      chai.request(app)\r\n        .patch('/api/v1/accounts/23432344')\r\n        .send(AccountData.accountPatch400)\r\n        .set('Authorization', token)\r\n        .end((err, res) => {\r\n          expect(res.body).to.be.an('object');\r\n          expect(res.body).to.have.property('errors');\r\n          expect(res).to.have.status(400);\r\n          done();\r\n        });\r\n    });\r\n  });\r\n\r\n  describe('PATCH /accounts/<account-number> Bad Request wrong input but complete payload', () => {\r\n    it('should not create a bank account', (done) => {\r\n      chai.request(app)\r\n        .patch('/api/v1/accounts/23432344')\r\n        .send(AccountData.accountPatch400_2)\r\n        .set('Authorization', token)\r\n        .end((err, res) => {\r\n          expect(res.body).to.be.an('object');\r\n          expect(res.body).to.have.property('errors');\r\n          expect(res).to.have.status(400);\r\n          done();\r\n        });\r\n    });\r\n  });\r\n\r\n  describe('PATCH /accounts/<account-number> Bad Request wrong input but complete payload', () => {\r\n    it('should not create a bank account', (done) => {\r\n      chai.request(app)\r\n        .patch('/api/v1/accounts/23432344')\r\n        .send(AccountData.accountPatch400_3)\r\n        .set('Authorization', token)\r\n        .end((err, res) => {\r\n          expect(res.body).to.be.an('object');\r\n          expect(res.body).to.have.property('errors');\r\n          expect(res).to.have.status(400);\r\n          done();\r\n        });\r\n    });\r\n  });\r\n\r\n  describe('PATCH /accounts/<account-number> Bad Request wrong input but complete payload', () => {\r\n    it('should not create a bank account', (done) => {\r\n      chai.request(app)\r\n        .patch('/api/v1/accounts/2343')\r\n        .send(AccountData.accountPatch)\r\n        .set('Authorization', token)\r\n        .end((err, res) => {\r\n          expect(res.body).to.be.an('object');\r\n          expect(res.body).to.have.property('errors');\r\n          expect(res).to.have.status(404);\r\n          done();\r\n        });\r\n    });\r\n  });\r\n\r\n  describe('PATCH /accounts/<account-number> update an account successfully', () => {\r\n    it('should create a bank account', (done) => {\r\n      chai.request(app)\r\n        .patch('/api/v1/accounts/23432344')\r\n        .send(AccountData.accountPatch)\r\n        .set('Authorization', token)\r\n        .end((err, res) => {\r\n          expect(res.body).to.be.an('object');\r\n          expect(res.body).to.have.property('data');\r\n          expect(res).to.have.status(200);\r\n          done();\r\n        });\r\n    });\r\n  });\r\n\r\n  describe('DELETE /accounts/<account-number> not delete an account without token provided', () => {\r\n    it('should not delete a bank account', (done) => {\r\n      chai.request(app)\r\n        .delete('/api/v1/accounts/23432344')\r\n        .end((err, res) => {\r\n          expect(res.body).to.be.an('object');\r\n          expect(res.body).to.have.property('error');\r\n          expect(res).to.have.status(401);\r\n          done();\r\n        });\r\n    });\r\n  });\r\n\r\n  describe('DELETE /accounts/<account-number> not delete an account with invalid account number', () => {\r\n    it('should not delete a bank account', (done) => {\r\n      chai.request(app)\r\n        .delete('/api/v1/accounts/2343')\r\n        .set('Authorization', token)\r\n        .end((err, res) => {\r\n          expect(res.body).to.be.an('object');\r\n          expect(res.body).to.have.property('errors');\r\n          expect(res).to.have.status(404);\r\n          done();\r\n        });\r\n    });\r\n  });\r\n\r\n  describe('DELETE /accounts/<account-number> delete an account successfully', () => {\r\n    it('should not delete a bank account', (done) => {\r\n      chai.request(app)\r\n        .delete('/api/v1/accounts/23432344')\r\n        .set('Authorization', token)\r\n        .end((err, res) => {\r\n          expect(res.body).to.be.an('object');\r\n          expect(res.body).to.have.property('data');\r\n          expect(res).to.have.status(200);\r\n          done();\r\n        });\r\n    });\r\n  });\r\n\r\n});\r\n"],"file":"accounts_test.js"}